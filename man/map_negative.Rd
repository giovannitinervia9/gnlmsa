% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helper_functions.R
\name{map_negative}
\alias{map_negative}
\title{Maps values between half-open intervals and the real line}
\usage{
map_negative(
  x,
  upper = 0,
  inverse = FALSE,
  derivative = FALSE,
  second_derivative = FALSE
)
}
\arguments{
\item{x}{A numerical vector of values to map. When \code{inverse = FALSE}, values must be strictly
less than \code{upper}. When \code{inverse = TRUE}, values can be any real number.}

\item{upper}{A numerical value representing the upper bound of the half-open interval. Default is 0.}

\item{inverse}{Logical; if \code{TRUE}, maps from the real line to the half-open interval.}

\item{derivative}{Logical; if \code{TRUE}, returns the first derivative of the forward transformation.}

\item{second_derivative}{Logical; if \code{TRUE}, returns the second derivative of the forward transformation.}
}
\value{
A numeric vector of mapped values, first or second derivatives depending on arguments.
}
\description{
This function implements a bijective transformation between a half-open interval \verb{(-Inf, upper)}
and the real line using a logarithmic transformation.
}
\details{
Forward transformation:
\deqn{f(x) = \log(\texttt{upper} - x)}

Inverse transformation:
\deqn{f^{-1}(z) = \texttt{upper} - \exp(z)}

First derivative:
\deqn{f'(x) = -\dfrac{1}{\texttt{upper} - x}}

Second derivative:
\deqn{f''(x) = -\dfrac{1}{(\texttt{upper} - x)^2}}
}
\examples{
x <- -(5:1)
map_negative(x)
map_negative(x, derivative = TRUE)
map_negative(x, second_derivative = TRUE)
map_negative(map_negative(x), inverse = TRUE)
}
